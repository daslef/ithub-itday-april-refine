"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[90655],{58943:(e,t,n)=>{n.d(t,{x:()=>m});var r=n(86010),o=n(67294),i=n(73808),a=n(96319),s=n(79526);const l=({horizontalSize:e,onMouseDown:t})=>o.createElement("div",{className:(0,r.Z)("resize-handler","hidden","md:block","absolute","z-[3]","top-0","bottom-0","w-2.5","cursor-ew-resize"),"data-direction":"horizontal",onMouseDown:t,style:{left:`calc(${e}% - 5px)`}});function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const m=e=>"nextjs"===(null==e?void 0:e.template)?o.createElement(g,e):o.createElement(f,e),f=e=>{var t,n,d,m,f,g,{startRoute:h,showNavigator:b,showLineNumbers:v,showOpenInCodeSandbox:y,initialPercentage:k=50,dependencies:w,showReadOnly:x,options:R={showTabs:!0,initMode:"lazy",classes:{"sp-bridge-frame":"!hidden","sp-layout":"!rounded-lg !border-gray-300 dark:!border-gray-700","sp-editor":"!gap-0 border-r !border-r-gray-300 dark:!border-r-gray-700","sp-tabs":"!border-b-gray-300 dark:!border-b-gray-700 !bg-gray-0 dark:!bg-gray-800","sp-tabs-scrollable-container":"!min-h-[32px]","sp-input":"!text-gray-800 dark:!text-gray-100","sp-cm":(0,r.Z)("p-0 bg-transparent","[&>.cm-editor]:!bg-refine-react-light-code","[&>.cm-editor]:dark:!bg-refine-react-dark-code","[&_.cm-activeLine]:!bg-gray-100 [&_.cm-activeLine]:dark:!bg-gray-800"),"sp-icon-standalone":"!bg-gray-300 dark:!bg-gray-700 !text-gray-400 dark:!text-gray-500","sp-file-explorer":"border-r !border-r-gray-300 dark:!border-r-gray-700","sp-console":(0,r.Z)("not-prose","!border-t-0 !border !border-solid !border-t-none","!border-gray-300 dark:!border-gray-700","!rounded-bl-lg !rounded-br-lg","!bg-refine-react-light-code","dark:!bg-refine-react-dark-code"),"sp-console-header":(0,r.Z)("!bg-gray-0 dark:!bg-gray-800","border-b border-solid !border-b-gray-300 dark:!border-b-gray-700","!h-[32px] !min-h-[32px]"),"sp-console-header-actions":(0,r.Z)("h-full","!gap-0"),"sp-console-header-button":(0,r.Z)("!bg-transparent","!border !border-solid !border-b-0 !border-x-gray-300 dark:!border-x-gray-700","!border-t-2 !border-t-transparent [&[data-active='true']]:!border-t-refine-react-light-link dark:[&[data-active='true']]:!border-t-refine-react-dark-link","h-full","!text-gray-800 dark:!text-gray-100","!rounded-none","-ml-px"),"sp-console-list":(0,r.Z)("!bg-refine-react-light-code","dark:!bg-refine-react-dark-code","[&>code]:!bg-transparent"),"sp-tab-button":(0,r.Z)("!h-8","!px-2 !pb-2 !pt-1.5","!text-gray-800 dark:!text-gray-100","!border !border-solid !border-b-0 !border-x-gray-300 dark:!border-x-gray-700","-ml-px first:ml-0","!border-t-2 !border-t-transparent [&[data-active='true']]:!border-t-refine-react-light-link dark:[&[data-active='true']]:!border-t-refine-react-dark-link")}},template:N="react-ts",customSetup:P,files:C,previewOnly:O,layout:L,height:S=420,wrapperClassName:j,className:E,showFiles:F=!1,showConsole:T=!1,hidePreview:z=!1}=e,M=p(e,["startRoute","showNavigator","showLineNumbers","showOpenInCodeSandbox","initialPercentage","dependencies","showReadOnly","options","template","customSetup","files","previewOnly","layout","height","wrapperClassName","className","showFiles","showConsole","hidePreview"]);const[B,A]=o.useState(!1);o.useEffect((()=>{A(!0)}),[]);const{colorMode:D}=(0,s.I)();var I,U;null!=R||(R={}),null!==(I=(f=R).resizablePanels)&&void 0!==I||(f.resizablePanels=!0),null!==(U=(g=R).editorWidthPercentage)&&void 0!==U||(g.editorWidthPercentage=null!=k?k:50);const G={showTabs:R.showTabs,showLineNumbers:R.showLineNumbers,showInlineErrors:R.showInlineErrors,wrapContent:R.wrapContent,closableTabs:R.closableTabs,initMode:R.initMode,extensions:null===(t=R.codeEditor)||void 0===t?void 0:t.extensions,extensionsKeymap:null===(n=R.codeEditor)||void 0===n?void 0:n.extensionsKeymap,readOnly:R.readOnly,showReadOnly:null!=x?x:R.showReadOnly,additionalLanguages:null===(d=R.codeEditor)||void 0===d?void 0:d.additionalLanguages},Z={activeFile:R.activeFile,visibleFiles:R.visibleFiles,recompileMode:R.recompileMode,recompileDelay:R.recompileDelay,autorun:R.autorun,autoReload:R.autoReload,bundlerURL:R.bundlerURL,startRoute:R.startRoute,skipEval:R.skipEval,fileResolver:R.fileResolver,initMode:R.initMode,initModeObserverOptions:R.initModeObserverOptions,externalResources:R.externalResources,logLevel:R.logLevel,classes:R.classes},[W,q]=o.useState(!1),{onHandleMouseDown:H,horizontalSize:$}=(({initialSize:e=50})=>{const[t,n]=o.useState(e),r=o.useRef(null),i=e=>{if(!r.current)return;const t=r.current.parentElement;if(!t)return;const{left:o,width:i}=t.getBoundingClientRect(),a=(e.clientX-o)/i*100,s=Math.min(Math.max(a,25),75);n(s),t.querySelectorAll(".sp-stack").forEach((e=>{e.style.pointerEvents="none"}))},a=()=>{var e;const t=null===(e=r.current)||void 0===e?void 0:e.parentElement;t&&(t.querySelectorAll(".sp-stack").forEach((e=>{e.style.pointerEvents=""})),r.current=null)};return o.useEffect((()=>(document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",a),()=>{document.body.removeEventListener("mousemove",i),document.body.removeEventListener("mouseup",a)})),[]),{horizontalSize:t,onHandleMouseDown:o.useCallback((e=>{r.current=e.target}),[])}})({initialSize:R.editorWidthPercentage}),Q=!O&&!(null==L?void 0:L.includes("col"));var V,X,Y,_,K;return o.createElement(o.Fragment,null,o.createElement("div",{className:(0,r.Z)("pb-6",j)},o.createElement("div",{className:(0,r.Z)("absolute","left-0","right-0","w-full","px-2","md:px-4","xl:px-6","max-w-screen-xl","mx-auto",E)},o.createElement(a.oT,u({key:`${N}-${D}-${B}`,customSetup:u({dependencies:w},P),files:C,options:c(u({},Z),{classes:c(u({},Z.classes),{"sp-layout":(0,r.Z)(null===(m=Z.classes)||void 0===m?void 0:m["sp-layout"],T&&"!rounded-bl-none !rounded-br-none")})}),template:N,theme:"light"===D?c(u({},i.FM),{colors:c(u({},i.FM.colors),{accent:"#1D1E30",surface1:"transparent",surface2:"transparent",surface3:"transparent"})}):c(u({},i.I2),{colors:c(u({},i.I2.colors),{surface1:"transparent",surface2:"transparent",surface3:"transparent"})}),className:(0,r.Z)("not-prose sandpack-container","max-w-screen-xl","animate-reveal")},M),o.createElement(a.sp,{className:(0,r.Z)("col"===L&&"!flex-col","col-reverse"===L&&"!flex-col-reverse")},F&&o.createElement(a.Lj,{autoHiddenFiles:!0,style:{height:null!==(V=R.editorHeight)&&void 0!==V?V:S}}),!O&&o.createElement(a._V,c(u({},G),{showLineNumbers:v,closableTabs:F,initMode:"lazy",style:c(u({height:null!==(X=R.editorHeight)&&void 0!==X?X:S},(null==L?void 0:L.includes("col"))?{flex:"initial"}:{flexGrow:$,flexShrink:$,flexBasis:0}),{overflow:"hidden"})})),Q?o.createElement(l,{onMouseDown:H,horizontalSize:$}):null,z?null:o.createElement(o.Fragment,null,o.createElement(a.Gj,{showOpenInCodeSandbox:y,startRoute:h,showNavigator:null!=b?b:R.showNavigator,showRefreshButton:R.showRefreshButton,style:c(u({display:z?"none":"flex"},(null==L?void 0:L.includes("col"))?{flex:"initial",width:"100%"}:{flexGrow:100-$,flexShrink:100-$,flexBasis:0,width:O?"100%":100-$+"%"}),{gap:0,height:null!==(Y=R.editorHeight)&&void 0!==Y?Y:S})},o.createElement("div",{className:"sp-custom-loading"},o.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/spinner.gif",className:(0,r.Z)("w-12","h-12","rounded-full")}))))),T?o.createElement(a.Tq,{style:c(u({height:200},(null==L?void 0:L.includes("col"))?{flex:"initial"}:{flexGrow:$,flexShrink:$,flexBasis:0}),{overflow:"hidden"})}):null)),o.createElement("div",{className:(0,r.Z)(""),style:{height:Number(null!==(_=R.editorHeight)&&void 0!==_?_:S)+2}}),o.createElement("div",{className:(0,r.Z)((null==L?void 0:L.includes("col"))?"block":"block md:hidden"),style:{height:Number(null!==(K=R.editorHeight)&&void 0!==K?K:S)+2}}),o.createElement("div",{className:(0,r.Z)(T?"block":"hidden","h-[200px]")})),o.createElement("section",{className:"hidden max-w-0 max-h-0"},o.createElement("p",null,`Dependencies: ${Object.keys(null!=w?w:{}).map((e=>`${e}@${w[e]}`))}`),o.createElement("h3",null,"Code Files"),Object.keys(null!=C?C:{}).map((e=>o.createElement("div",{key:e},o.createElement("div",null,`File: ${e}`),o.createElement("div",null,`Content: ${"code"in C[e]?C[e].code:C[e]}`))))))},g=e=>{const t={hidePreview:!0,showConsole:!1};return o.createElement(f,c(u({},t,e),{template:"react-ts"}))}},75742:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>F,contentTitle:()=>j,default:()=>A,frontMatter:()=>S,metadata:()=>E,toc:()=>T});var r=n(67294),o=n(3905),i=n(58943);function a(){return r.createElement(i.x,{showNavigator:!0,showFiles:!0,dependencies:{"@refinedev/core":"latest","@refinedev/simple-rest":"latest","@refinedev/react-router-v6":"latest","react-router-dom":"latest","react-router":"latest"},startRoute:"/my-products",files:{"/App.tsx":{code:s},"/style.css":{code:l,hidden:!0},"/pages/products/list.tsx":{code:d},"/pages/products/show.tsx":{code:u,active:!0}}})}const s='\nimport React from "react";\n\nimport { Refine } from "@refinedev/core";\nimport routerProvider from "@refinedev/react-router-v6";\nimport dataProvider from "@refinedev/simple-rest";\nimport { BrowserRouter, Route, Routes } from "react-router-dom";\n\nimport "./style.css";\n\nimport { ProductList } from "./pages/products/list.tsx";\nimport { ProductShow } from "./pages/products/show.tsx";\n\nexport default function App() {\n  return (\n    <BrowserRouter>\n      <Refine\n        routerProvider={routerProvider}\n        dataProvider={dataProvider("https://api.fake-rest.refine.dev")}\n        resources={[\n          {\n            name: "products",\n            // We\'re defining the routes and assigning them to an action of a resource\n            list: "/my-products",\n            show: "/my-products/:id",\n            // For sake of simplicity, we are not defining other routes here but the implementation is the same\n            // create: "/my-products/new",\n            // edit: "/my-products/:id/edit",\n            // clone: "/my-products/:id/clone",\n          },\n        ]}\n      >\n        <Routes>\n          <Route path="/my-products" element={<ProductList />} />\n          <Route path="/my-products/:id" element={<ProductShow />} />\n        </Routes>\n      </Refine>\n    </BrowserRouter>\n  );\n}\n'.trim(),l="\nhtml {\n    margin: 0;\n    padding: 0;\n}\nbody {\n    margin: 0;\n    padding: 12px;\n}\n* {\n    box-sizing: border-box;\n}\nbody {\n    font-family: sans-serif;\n}\nform label, form input, form button {\n    display: block;\n    width: 100%;\n    margin-bottom: 6px;\n}\nspan + button {\n    margin-left: 6px;\n}\nul > li {\n    margin-bottom: 6px;\n}\n".trim(),d='\nimport React from "react";\n\nimport { useGo, useList } from "@refinedev/core";\n\nexport const ProductList: React.FC = () => {\n  // We\'re inferring the resource from the route\n  // So we call `useList` hook without any arguments.\n  // const { ... } = useList({ resource: "products" })\n  const { data, isLoading } = useList();\n\n  const go = useGo();\n\n  if (isLoading) return <div>Loading...</div>;\n\n  return (\n    <ul>\n      {data?.data?.map((product) => (\n        <li key={product.id}>\n          <span>{product.name}</span>\n          <button\n            onClick={() => {\n              go({\n                to: {\n                  resource: "products",\n                  action: "show",\n                  id: product.id,\n                },\n              });\n            }}\n          >\n            show\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n};\n'.trim(),u='\nimport React from "react";\n\nimport { useGo, useShow } from "@refinedev/core";\n\nexport const ProductShow: React.FC = () => {\n  // We\'re inferring the resource and the id from the route params\n  // So we can call useShow hook without any arguments.\n  // const result = useShow({ resource: "products", id: "xxx" })\n  const result = useShow();\n\n  const {\n    queryResult: { data, isLoading },\n  } = result;\n\n  const go = useGo();\n\n  if (isLoading) return <div>Loading...</div>;\n\n  return (\n    <>\n      <div>\n        <h1>{data?.data?.name}</h1>\n        <p>Material: {data?.data?.material}</p>\n        <small>ID: {data?.data?.id}</small>\n      </div>\n      <button\n        onClick={() => {\n          go({\n            to: {\n              resource: "products",\n              action: "list",\n            },\n          });\n        }}\n      >\n        Go to Products list\n      </button>\n    </>\n  );\n};\n'.trim();function c(){return r.createElement(i.x,{showNavigator:!0,showFiles:!0,dependencies:{"@refinedev/core":"latest","@refinedev/simple-rest":"latest","@refinedev/react-router-v6":"latest","react-router-dom":"latest","react-router":"latest"},startRoute:"/my-products",files:{"/App.tsx":{code:p,hidden:!0},"/style.css":{code:m,hidden:!0},"list.tsx":{code:f},"edit.tsx":{code:g,active:!0}}})}const p='\nimport React from "react";\n\nimport { Refine } from "@refinedev/core";\nimport routerProvider from "@refinedev/react-router-v6";\nimport dataProvider from "@refinedev/simple-rest";\nimport { BrowserRouter, Route, Routes } from "react-router-dom";\n\nimport "./style.css";\n\nimport { ProductEdit } from "./edit.tsx";\nimport { ProductList } from "./list.tsx";\n\nexport default function App() {\n  return (\n    <BrowserRouter>\n      <Refine\n        routerProvider={routerProvider}\n        dataProvider={dataProvider("https://api.fake-rest.refine.dev")}\n        resources={[\n          {\n            name: "products",\n            list: "/my-products",\n            edit: "/my-products/:id/edit",\n          },\n        ]}\n      >\n        <Routes>\n          <Route path="/my-products" element={<ProductList />} />\n          <Route path="/my-products/:id/edit" element={<ProductEdit />} />\n        </Routes>\n      </Refine>\n    </BrowserRouter>\n  );\n}\n'.trim(),m="\nhtml {\n    margin: 0;\n    padding: 0;\n}\nbody {\n    margin: 0;\n    padding: 12px;\n}\n* {\n    box-sizing: border-box;\n}\nbody {\n    font-family: sans-serif;\n}\nform label, form input, form button {\n    display: block;\n    width: 100%;\n    margin-bottom: 6px;\n}\nspan + button {\n    margin-left: 6px;\n}\nul > li {\n    margin-bottom: 6px;\n}\n".trim(),f='\nimport React from "react";\n\nimport { useGo, useList } from "@refinedev/core";\n\nexport const ProductList: React.FC = () => {\n  const { data, isLoading } = useList();\n\n  const go = useGo();\n\n  if (isLoading) return <div>Loading...</div>;\n\n  return (\n    <ul>\n      {data?.data?.map((product) => (\n        <li key={product.id}>\n          <span>{product.name}</span>\n          <button\n            onClick={() => {\n              go({\n                to: {\n                  resource: "products",\n                  action: "edit",\n                  id: product.id,\n                },\n              });\n            }}\n          >\n            edit\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n};\n'.trim(),g='\nimport React from "react";\n\nimport { useForm } from "@refinedev/core";\n\nexport const ProductEdit: React.FC = () => {\n  const { formLoading, onFinish, queryResult } = useForm();\n  const defaultValues = queryResult?.data?.data;\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    const data = Object.fromEntries(new FormData(e.target).entries());\n\n    onFinish(data);\n  };\n\n  return (\n    <div>\n      <br />\n      <form onSubmit={onSubmit}>\n        <div>\n          <label htmlFor="name">name</label>\n          <input\n            type="text"\n            id="name"\n            name="name"\n            placeholder="name"\n            defaultValue={defaultValues?.name}\n          />\n        </div>\n        <button type="submit" disabled={formLoading}>\n          <span>Save</span>\n        </button>\n      </form>\n    </div>\n  );\n};\n'.trim();function h(){return r.createElement(i.x,{showNavigator:!0,showFiles:!0,dependencies:{"@refinedev/core":"latest","@refinedev/simple-rest":"latest","@refinedev/react-router-v6":"latest","react-router-dom":"latest","react-router":"latest"},startRoute:"/my-products",theme:{},files:{"/App.tsx":{code:b},"/style.css":{code:v,hidden:!0},"/pages/products/list.tsx":{code:y,active:!0},"/components/products/list.tsx":{code:k}}})}const b='\nimport React from "react";\n\nimport { Refine } from "@refinedev/core";\nimport routerProvider from "@refinedev/react-router-v6";\nimport dataProvider from "@refinedev/simple-rest";\nimport { BrowserRouter, Route, Routes } from "react-router-dom";\n\nimport "./style.css";\n\nimport { ListPage } from "./pages/products/list.tsx";\n\nexport default function App() {\n  return (\n    <BrowserRouter>\n      <Refine\n        routerProvider={routerProvider}\n        dataProvider={dataProvider("https://api.fake-rest.refine.dev")}\n        resources={[\n          {\n            name: "products",\n            list: "/my-products",\n          },\n        ]}\n        options={{ syncWithLocation: true }}\n      >\n        <Routes>\n          <Route path="/my-products" element={<ListPage />} />\n        </Routes>\n      </Refine>\n    </BrowserRouter>\n  );\n}\n'.trim(),v="\nhtml {\n    margin: 0;\n    padding: 0;\n    font-size: 14px;\n}\nbody {\n    margin: 0;\n    padding: 12px;\n}\n* {\n    box-sizing: border-box;\n}\nbody {\n    font-family: sans-serif;\n}\nform label, form input, form button {\n    display: block;\n    width: 100%;\n    margin-bottom: 6px;\n}\nspan, button {\n    margin: 6px 0;\n}\nul > li {\n    margin-bottom: 6px;\n}\n".trim(),y='\nimport React from "react";\n\nimport { useTable } from "@refinedev/core";\n\nimport { ProductList } from "../../components/products/list";\n\nexport const ListPage: React.FC = () => {\n  const tableProps = useTable({\n    pagination: { current: 1, pageSize: 2 },\n    filters: {\n      initial: [{ field: "category.id", operator: "eq", value: "1" }],\n    },\n    sorters: { initial: [{ field: "id", order: "asc" }] },\n  });\n\n  return <ProductList tableProps={tableProps} />;\n};\n'.trim(),k='\nimport React from "react";\n\nexport const ProductList: React.FC = ({ tableProps }) => {\n  const {\n    tableQueryResult,\n    isLoading,\n    current,\n    setCurrent,\n    pageSize,\n    pageCount,\n    filters,\n    setFilters,\n    sorters,\n    setSorters,\n  } = tableProps;\n\n  if (isLoading) return <div>Loading...</div>;\n\n  return (\n    <div>\n      <h3>Products</h3>\n      <table style={{ border: "1px solid black" }}>\n        <thead>\n          <tr key="header">\n            <td>id</td>\n            <td>name</td>\n            <td>categoryId</td>\n          </tr>\n        </thead>\n        <tbody>\n          {tableQueryResult.data?.data?.map((record) => (\n            <tr key={record.id}>\n              <td>{record.id}</td>\n              <td>{record.name}</td>\n              <td>{record.category.id}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <hr />\n      Sorting by field:\n      <b>\n        {sorters[0].field}, order {sorters[0].order}\n      </b>\n      <br />\n      <button\n        onClick={() => {\n          setSorters([\n            {\n              field: "id",\n              order: sorters[0].order === "asc" ? "desc" : "asc",\n            },\n          ]);\n        }}\n      >\n        Toggle Sort\n      </button>\n      <hr />\n      Filtering by field:\n      <b>\n        {filters[0].field}, operator {filters[0].operator}, value\n        {filters[0].value}\n      </b>\n      <br />\n      <button\n        onClick={() => {\n          setFilters([\n            {\n              field: "category.id",\n              operator: "eq",\n              value: filters[0].value === "1" ? "2" : "1",\n            },\n          ]);\n        }}\n      >\n        Toggle Filter\n      </button>\n      <hr />\n      <p>Current Page: {current}</p>\n      <p>Page Size: {pageSize}</p>\n      <button\n        onClick={() => {\n          setCurrent(current - 1);\n        }}\n        disabled={current < 2}\n      >\n        Previous Page\n      </button>\n      <button\n        onClick={() => {\n          setCurrent(current + 1);\n        }}\n        disabled={current === pageCount}\n      >\n        Next Page\n      </button>\n    </div>\n  );\n};\n'.trim();function w(){return r.createElement(i.x,{showNavigator:!0,showFiles:!0,dependencies:{"@refinedev/core":"latest","@refinedev/simple-rest":"latest","@refinedev/react-router-v6":"latest","@refinedev/react-hook-form":"latest","react-router-dom":"latest","react-router":"latest"},startRoute:"/my-products",files:{"/App.tsx":{code:R},"/style.css":{code:N,hidden:!0},"/components/modal.tsx":{code:x},"/pages/products/list.tsx":{code:P,active:!0}}})}const x='\nimport React from "react";\n\nexport const Modal: React.FC = ({ isOpen, onClose, children }) => {\n  if (!isOpen) return null;\n\n  return (\n    <>\n      <div className="overlay" onClick={onClose}></div>\n      <div className="modal">\n        <div className="modal-title">\n          <button className="close-button" onClick={onClose}>\n            &times;\n          </button>\n        </div>\n        <div className="modal-content">{children}</div>\n      </div>\n    </>\n  );\n};\n'.trim(),R='\nimport React from "react";\n\nimport { Refine } from "@refinedev/core";\nimport routerProvider from "@refinedev/react-router-v6";\nimport dataProvider from "@refinedev/simple-rest";\nimport { BrowserRouter, Route, Routes } from "react-router-dom";\n\nimport "./style.css";\n\nimport { ProductList } from "./pages/products/list.tsx";\n\nexport default function App() {\n  return (\n    <BrowserRouter>\n      <Refine\n        routerProvider={routerProvider}\n        dataProvider={dataProvider("https://api.fake-rest.refine.dev")}\n        resources={[\n          {\n            name: "products",\n            list: "/my-products",\n          },\n        ]}\n      >\n        <Routes>\n          <Route path="/my-products" element={<ProductList />} />\n        </Routes>\n      </Refine>\n    </BrowserRouter>\n  );\n}\n'.trim(),N="\nhtml {\n    margin: 0;\n    padding: 0;\n}\nbody {\n    margin: 0;\n    padding: 12px;\n}\n* {\n    box-sizing: border-box;\n}\nbody {\n    font-family: sans-serif;\n}\n\n.overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    background-color: rgba(0, 0, 0, 0.7);\n    z-index: 1000;\n}\n\n.modal {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background-color: #fff;\n    z-index: 1000;\n    width: 75%;\n    overflow-y: auto;\n}\n\n.modal .modal-title {\n    display: flex;\n    justify-content: flex-end;\n    padding: 4px;\n}\n\n.modal .modal-content {\n    padding: 0px 16px 16px 16px;\n}\nform label, form input, form button {\n    display: block;\n    width: 100%;\n    margin-top: 3px;\n    margin-bottom: 3px;\n}\nspan + button {\n    margin-left: 6px;\n}\nul > li {\n    margin-bottom: 6px;\n}\n".trim(),P='\nimport React from "react";\n\nimport { useList } from "@refinedev/core";\nimport { useModalForm } from "@refinedev/react-hook-form";\n\nimport { Modal } from "../../components/modal.tsx";\n\nexport const ProductList: React.FC = () => {\n  const { data, isLoading } = useList();\n\n  const {\n    modal: { visible, close, show },\n    refineCore: { onFinish, formLoading },\n    handleSubmit,\n    register,\n    saveButtonProps,\n  } = useModalForm({\n    refineCoreProps: { action: "edit" },\n    syncWithLocation: true,\n  });\n\n  if (isLoading) return <div>Loading...</div>;\n\n  return (\n    <>\n      <Modal isOpen={visible} onClose={close}>\n        <form onSubmit={handleSubmit(onFinish)}>\n          <div>\n            <label htmlFor="name">name</label>\n            <input {...register("name")} />\n          </div>\n          <button type="submit" {...saveButtonProps}>\n            <span>Save</span>\n          </button>\n        </form>\n      </Modal>\n      <ul>\n        {data?.data?.map((product) => (\n          <li key={product.id}>\n            <span>{product.name}</span>\n            <button\n              onClick={() => {\n                show(product.id);\n              }}\n            >\n              edit\n            </button>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n'.trim();function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function L(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const S={title:"Routing"},j=void 0,E={unversionedId:"guides-concepts/routing/index",id:"guides-concepts/routing/index",title:"Routing",description:"Routing is essential for any CRUD application. Refine's headless architecture allows you to use any router solution, without being locked into a specific router/framework.",source:"@site/docs/guides-concepts/routing/index.md",sourceDirName:"guides-concepts/routing",slug:"/guides-concepts/routing/",permalink:"/ithub-itday-april-refine/docs/guides-concepts/routing/",draft:!1,editUrl:"https://github.com/refinedev/refine/tree/master/documentation/docs/guides-concepts/routing/index.md",tags:[],version:"current",frontMatter:{title:"Routing"},sidebar:"mainSidebar",previous:{title:"Tables",permalink:"/ithub-itday-april-refine/docs/guides-concepts/tables/"},next:{title:"Authentication",permalink:"/ithub-itday-april-refine/docs/guides-concepts/authentication/"}},F={},T=[{value:"Router Integrations",id:"router-integrations",level:2},{value:'Relationship Between Resources and Routes <GuideBadge id="guides-concepts/general-concepts" />',id:"relationship-between-resources-and-routes-",level:2},{value:"Hook Integrations",id:"hook-integrations",level:2},{value:'useForm <GuideBadge id="guides-concepts/forms/#integration-with-routers" />',id:"useform-",level:3},{value:'useTable <GuideBadge id="guides-concepts/tables/#integrating-with-routers" />',id:"usetable-",level:3},{value:"useModalForm",id:"usemodalform",level:3},{value:"useOne",id:"useone",level:3},{value:"useShow",id:"useshow",level:3},{value:"useList",id:"uselist",level:3},{value:"The <code>routerProvider</code> Interface",id:"the-routerprovider-interface",level:2}],z=(M="GuideBadge",function(e){return console.warn("Component "+M+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",e)});var M;const B={toc:T};function A(e){var{components:t}=e,n=L(e,["components"]);return(0,o.kt)("wrapper",O(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}({},B,n),{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Routing is essential for any CRUD application. Refine's headless architecture allows you to use any router solution, without being locked into a specific router/framework."),(0,o.kt)("p",null,"Refine also offers built-in router integrations for the most popular frameworks. These integrations makes it easier to use Refine with these frameworks and offers a lot of benefits such as:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Automatic parameter detection in hooks/components."),(0,o.kt)("li",{parentName:"ul"},"Automatic redirections after mutation or authentication."),(0,o.kt)("li",{parentName:"ul"},"Set of utility components & hooks which can be used to navigate between pages/routes.")),(0,o.kt)("h2",{id:"router-integrations"},"Router Integrations"),(0,o.kt)("p",null,"To integrate a router provider with Refine, all you need to do is to import the router integration of your choice and pass it to the ",(0,o.kt)("inlineCode",{parentName:"p"},"<Refine />"),"'s ",(0,o.kt)("inlineCode",{parentName:"p"},"routerProvider")," prop."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="App.jsx"',title:'"App.jsx"'},'import { BrowserRouter, Routes } from "react-router-dom";\n// highlight-next-line\nimport routerProvider from "@refinedev/react-router-v6";\n\nconst App = () => (\n  <BrowserRouter>\n    // highlight-next-line\n    <Refine routerProvider={routerProvider}>\n      <Routes>{/* Your route definitions */}</Routes>\n    </Refine>\n  </BrowserRouter>\n);\n')),(0,o.kt)("h2",{id:"relationship-between-resources-and-routes-"},"Relationship Between Resources and Routes ",(0,o.kt)(z,{id:"guides-concepts/general-concepts",mdxType:"GuideBadge"})),(0,o.kt)("p",null,"Refine can infer current ",(0,o.kt)("inlineCode",{parentName:"p"},"resource"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"action")," and it's ",(0,o.kt)("inlineCode",{parentName:"p"},"id")," from the ",(0,o.kt)("strong",{parentName:"p"},"current route")," based on your ",(0,o.kt)("strong",{parentName:"p"},"resource definitions"),"."),(0,o.kt)("p",null,"This eliminates the need of passing these parameters to the components/hooks manually."),(0,o.kt)("p",null,"All you have to do is to define your resource and their routes."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'<Refine\n  resources={[\n    {\n      name: "products",\n      list: "/my-products", // http://localhost:3000/my-products\n      show: "my-products/:id", // http://localhost:3000/my-products/1\n      create: "/my-products/new", // http://localhost:3000/my-products/new\n      edit: "/my-products/:id/edit", // http://localhost:3000/my-products/1/edit\n      clone: "/my-products/:id/clone", // http://localhost:3000/my-products/1/clone\n    },\n  ]}\n/>\n')),(0,o.kt)("p",null,"You can see how we omit ",(0,o.kt)("strong",{parentName:"p"},"resource")," and ",(0,o.kt)("strong",{parentName:"p"},"id")," parameters for ",(0,o.kt)("inlineCode",{parentName:"p"},"useList"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"useShow")," hooks in the example below."),(0,o.kt)(a,{mdxType:"ReactRouterResourceAndRoutesUsage"}),(0,o.kt)("h2",{id:"hook-integrations"},"Hook Integrations"),(0,o.kt)("h3",{id:"useform-"},"useForm ",(0,o.kt)(z,{id:"guides-concepts/forms/#integration-with-routers",mdxType:"GuideBadge"})),(0,o.kt)("p",null,"Router integration of Refine allows you to use ",(0,o.kt)("inlineCode",{parentName:"p"},"useForm")," without passing ",(0,o.kt)("strong",{parentName:"p"},"resource"),", ",(0,o.kt)("strong",{parentName:"p"},"id")," and ",(0,o.kt)("strong",{parentName:"p"},"action")," parameters.\nIt will also redirect you to resource's action route defined in ",(0,o.kt)("inlineCode",{parentName:"p"},"redirect")," prop. ",(0,o.kt)("inlineCode",{parentName:"p"},"redirect")," prop is ",(0,o.kt)("inlineCode",{parentName:"p"},"list")," by default."),(0,o.kt)(c,{mdxType:"ReactRouterUseFormUsage"}),(0,o.kt)("p",null,"Additionally, router integrations exposes an ",(0,o.kt)("inlineCode",{parentName:"p"},"<UnsavedChangesNotifier />")," component which can be used to notify the user about unsaved changes before navigating away from the current page. This component provides this feature which can be enabled by setting ",(0,o.kt)("inlineCode",{parentName:"p"},"warnWhenUnsavedChanges")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," in ",(0,o.kt)("inlineCode",{parentName:"p"},"useForm")," hooks."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="app.jsx"',title:'"app.jsx"'},'import { Refine } from "@refinedev/core";\nimport {\n  routerProvider,\n  UnsavedChangesNotifier,\n} from "@refinedev/react-router-v6";\nimport { BrowserRouter, Routes } from "react-router-dom";\n\nconst App = () => (\n  <BrowserRouter>\n    <Refine\n      // ...\n      routerProvider={routerProvider}\n      options={{\n        // highlight-next-line\n        warnWhenUnsavedChanges: true,\n      }}\n    >\n      <Routes>{/* ... */}</Routes>\n      {/* highlight-start */}\n      {/* The `UnsavedChangesNotifier` component should be placed under <Refine /> component. */}\n      <UnsavedChangesNotifier />\n      {/* highlight-end */}\n    </Refine>\n  </BrowserRouter>\n);\n')),(0,o.kt)("h3",{id:"usetable-"},"useTable ",(0,o.kt)(z,{id:"guides-concepts/tables/#integrating-with-routers",mdxType:"GuideBadge"})),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"useTable")," can synchronize it's parameters (filters, pagination, sorting) with the current route."),(0,o.kt)("p",null,"To enable synchronization, you need to pass ",(0,o.kt)("inlineCode",{parentName:"p"},"syncWithLocation: true")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"<Refine />")," component's ",(0,o.kt)("inlineCode",{parentName:"p"},"options")," prop."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"<Refine {...} options={{ syncWithLocation: true }}>\n\n")),(0,o.kt)("p",null,"Once you pass ",(0,o.kt)("inlineCode",{parentName:"p"},"syncWithLocation: true")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"<Refine />")," component's ",(0,o.kt)("inlineCode",{parentName:"p"},"options")," prop, ",(0,o.kt)("inlineCode",{parentName:"p"},"useTable")," will:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Read the current route and update it's parameters (filters, pagination, sorting) accordingly."),(0,o.kt)("li",{parentName:"ul"},"Update the current route when it's parameters (filters, pagination, sorting) change.")),(0,o.kt)("p",null,"Let's say we have a ",(0,o.kt)("inlineCode",{parentName:"p"},"products")," list page with the following route:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"/my-products\n")),(0,o.kt)("p",null,"And we want to filter products by ",(0,o.kt)("inlineCode",{parentName:"p"},"category.id")," and sort them by ",(0,o.kt)("inlineCode",{parentName:"p"},"id")," in ",(0,o.kt)("inlineCode",{parentName:"p"},"asc")," order."),(0,o.kt)("p",null,"We can pass these parameters to ",(0,o.kt)("inlineCode",{parentName:"p"},"useTable")," hook as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const { ... } = useTable(\n    {\n        current: 1,\n        pageSize: 2,\n        filters: { initial: [{ field: "category.id", operator: "eq", value: 1 }]},\n        sorters: { initial: [{ field: "id", direction: "asc" }] }\n    }\n);\n')),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"useTable")," will automatically update the route to:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title=http://localhost:3000/my-products",title:"http://localhost:3000/my-products"},"// removed-line\n/my-products\n\n// added-line\n/my-products?current=1&pageSize=2&sorters[0][field]=id&sorters[0][order]=asc&filters[0][field]=category.id&filters[0][operator]=eq&filters[0][value]=1\n")),(0,o.kt)("p",null,"And you will see a list of products, already ",(0,o.kt)("strong",{parentName:"p"},"filtered"),", ",(0,o.kt)("strong",{parentName:"p"},"sorted")," and ",(0,o.kt)("strong",{parentName:"p"},"paginated")," automatically based on the query parameters of the ",(0,o.kt)("strong",{parentName:"p"},"current route"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const { tableQueryResult, current, pageSize, filters, sorters } = useTable();\n\nconsole.log(tableQueryResult.data.data); // [{...}, {...}]\nconsole.log(tableQueryResult.data.total); // 32 - total number of unpaginated records\nconsole.log(current); // 1 - current page\nconsole.log(pageSize); // 2 - page size\nconsole.log(filters); // [{ field: "category.id", operator: "eq", value: "1" }]\nconsole.log(sorters); // [{ field: "id", order: "asc" }]\n')),(0,o.kt)("p",null,"Check the example below to see how you can use ",(0,o.kt)("inlineCode",{parentName:"p"},"useTable")," with router integration."),(0,o.kt)(h,{mdxType:"ReactRouterUseTableUsage"}),(0,o.kt)("h3",{id:"usemodalform"},"useModalForm"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"useModalForm")," can automatically detect ",(0,o.kt)("inlineCode",{parentName:"p"},"resource")," parameter from the current route."),(0,o.kt)("p",null,"It can also sync it's parameters with the current route."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"const { ... } = useModalForm({ syncWithLocation: true })\n")),(0,o.kt)("p",null,"Once the modal is visible, current route will look like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"/my-products?modal-products-edit[open]=true&modal-products-edit[id]=1\n")),(0,o.kt)("p",null,"You can see the example below for usage."),(0,o.kt)(w,{mdxType:"ReactRouterUseModalFormUsage"}),(0,o.kt)("h3",{id:"useone"},"useOne"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"useOne")," can automatically detect ",(0,o.kt)("inlineCode",{parentName:"p"},"resource")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"id")," parameters from the current route."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:"title=components/products/show.tsx",title:"components/products/show.tsx"},'import { useOne } from "@refinedev/core";\n\n// removed-line\nconst { data: productResponse } = useOne({ resource: "products", id: "1" });\n\nconsole.log(productResponse.data); // { id: "1", title: "Product 1", ... }\n\n// added-line\nconst { data: productResponse } = useOne();\n\nconsole.log(productResponse.data); // { id: "1", title: "Product 1", ... }\n')),(0,o.kt)("h3",{id:"useshow"},"useShow"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"useShow")," can automatically detect ",(0,o.kt)("inlineCode",{parentName:"p"},"resource")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"id")," parameters from the current route."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:"title=components/products/show.tsx",title:"components/products/show.tsx"},'import { useShow } from "@refinedev/core";\n\nconst { queryResult: showResponse } = useShow({\n  // removed-start\n  resource: "products",\n  id: "1",\n  // removed-end\n});\n\nconsole.log(showResponse.data.data); // { id: "1", title: "Product 1", ... }\n\n// added-line\nconst { queryResult: showResponse } = useShow();\n\nconsole.log(showResponse.data.data); // { id: "1", title: "Product 1", ... }\n')),(0,o.kt)("h3",{id:"uselist"},"useList"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"useList")," can automatically detect ",(0,o.kt)("inlineCode",{parentName:"p"},"resource")," parameter from the current route."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:"title=components/products/list.tsx",title:"components/products/list.tsx"},'import { useList } from "@refinedev/core";\n\n// removed-line\nconst { data: listResponse } = useList({ resource: "products" });\n\nconsole.log(listResponse.data); // [{ id: "1", title: "Product 1", ... }, { id: "2", title: "Product 2", ... }]\nconsole.log(listResponse.total); // 32 - total number of unpaginated records\n\n// added-line\nconst { data: listResponse } = useList();\n\nconsole.log(listResponse.data); // [{ id: "1", title: "Product 1", ... }, { id: "2", title: "Product 2", ... }]\nconsole.log(listResponse.total); // 32 - total number of unpaginated records\n')),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("inlineCode",{parentName:"p"},"config.pagination"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"config.filters"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"config.sorters")," will not be automatically detected from the current route.")),(0,o.kt)("h2",{id:"the-routerprovider-interface"},"The ",(0,o.kt)("inlineCode",{parentName:"h2"},"routerProvider")," Interface"),(0,o.kt)("p",null,"A router integration of Refine consists of a set of basic implementations for:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Ability to navigate between pages/routes"),(0,o.kt)("li",{parentName:"ul"},"An interface to interact with the parameters and query strings of the current route"),(0,o.kt)("li",{parentName:"ul"},"An utility to navigate back in the history"),(0,o.kt)("li",{parentName:"ul"},"A simple component to use for anchor tags")),(0,o.kt)("p",null,"These implementations will be provided via ",(0,o.kt)("inlineCode",{parentName:"p"},"routerProvider")," which expects an object with the following methods:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"go"),": A function that accepts an object and returns a function that handles the navigation."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"back"),": A function that returns a function that handles the navigation back in the history."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"parse"),": A function that returns a function that parses the current route and returns an object."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Link"),": A React component that accepts a ",(0,o.kt)("inlineCode",{parentName:"li"},"to")," prop and renders a component that handles the navigation to the given ",(0,o.kt)("inlineCode",{parentName:"li"},"to")," prop.")),(0,o.kt)("p",null,"While all these methods are optional, if you're working on creating a custom router integration, you'll be able to incrementally add more features and adopt more of Refine's features by izmplementing more of these methods."))}A.isMDXComponent=!0}}]);