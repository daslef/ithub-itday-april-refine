"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[28433],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>m});var n=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),p=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},u=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=p(r),m=o,f=d["".concat(l,".").concat(m)]||d[m]||c[m]||i;return r?n.createElement(f,a(a({ref:t},u),{},{components:r})):n.createElement(f,a({ref:t},u))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var p=2;p<i;p++)a[p]=r[p];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},19828:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>p,toc:()=>c});r(67294);var n=r(3905);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const s={title:"Realtime"},l=void 0,p={unversionedId:"guides-concepts/realtime/index",id:"guides-concepts/realtime/index",title:"Realtime",description:"Realtime data is an important part of modern applications. Seeing the changes in the details page, without refreshing the page not only improves the user experience but also increases the productivity of the users by preventing accidental updates.",source:"@site/docs/guides-concepts/realtime/index.md",sourceDirName:"guides-concepts/realtime",slug:"/guides-concepts/realtime/",permalink:"/ithub-itday-april-refine/docs/guides-concepts/realtime/",draft:!1,editUrl:"https://github.com/refinedev/refine/tree/master/documentation/docs/guides-concepts/realtime/index.md",tags:[],version:"current",frontMatter:{title:"Realtime"},sidebar:"mainSidebar",previous:{title:"Notifications",permalink:"/ithub-itday-april-refine/docs/guides-concepts/notifications/"},next:{title:"Internationalization (i18n)",permalink:"/ithub-itday-april-refine/docs/guides-concepts/i18n/"}},u={},c=[{value:"Supported Hooks",id:"supported-hooks",level:2},{value:"Live Provider",id:"live-provider",level:2},{value:"Hooks",id:"hooks",level:2},{value:"useSubscription",id:"usesubscription",level:3},{value:"usePublish",id:"usepublish",level:3}],d={toc:c};function m(e){var{components:t}=e,r=a(e,["components"]);return(0,n.kt)("wrapper",i(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({},d,r),{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Realtime data is an important part of modern applications. Seeing the changes in the details page, without refreshing the page not only improves the user experience but also increases the productivity of the users by preventing accidental updates."),(0,n.kt)("p",null,"Refine handles realtime data operations through ",(0,n.kt)("a",{parentName:"p",href:"/docs/realtime/live-provider"},"Live Provider")," which provides a common interface for any integration. Once integrated, you'll get realtime updates across your app out of the box, without needing a further configuration."),(0,n.kt)("p",null,"Once a ",(0,n.kt)("strong",{parentName:"p"},"Live Provider")," is integrated, Refine takes care of the ",(0,n.kt)("strong",{parentName:"p"},"invalidation"),", ",(0,n.kt)("strong",{parentName:"p"},"refetching")," logic for your resources."),(0,n.kt)("p",null,"For example if a new record is created for ",(0,n.kt)("inlineCode",{parentName:"p"},"products")," resource, a page where you use ",(0,n.kt)("inlineCode",{parentName:"p"},"useList")," hook will automatically refetch the latest ",(0,n.kt)("inlineCode",{parentName:"p"},"products")," data."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="App.jsx"',title:'"App.jsx"'},'import { Refine, LiveProvider } from "@refinedev/core";\n\nimport { liveProvider } from "./my-live-provider";\n\nconst App = () => {\n  return (\n    <Refine\n      liveProvider={liveProvider}\n      options={{ liveMode: "auto" }}\n      onLiveEvent={(event) => {\n        console.log(event);\n      }}\n    >\n      {/* ... */}\n    </Refine>\n  );\n};\n')),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title=my-page.jsx",title:"my-page.jsx"},'import { useList } from "@refinedev/core";\n\nconst { data } = useList({\n  resource: "products",\n  // Can be configured per-hook basis.\n  liveMode: "auto", // manual or off\n});\n')),(0,n.kt)("h2",{id:"supported-hooks"},"Supported Hooks"),(0,n.kt)("p",null,"Refine hooks works out-of-the-box with ",(0,n.kt)("strong",{parentName:"p"},"Live Provider"),", means if the data these hooks consume is updated, they will automatically refetch."),(0,n.kt)("p",null,"See the ",(0,n.kt)("a",{parentName:"p",href:"/docs/realtime/live-provider#integrated-hooks"},"Integrated Hooks")," section for more information."),(0,n.kt)("h2",{id:"live-provider"},"Live Provider"),(0,n.kt)("p",null,"The ",(0,n.kt)("strong",{parentName:"p"},"Live Provider")," is an object that contains ",(0,n.kt)("inlineCode",{parentName:"p"},"subscribe"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"unsubscribe")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"publish")," methods. These methods are utilized by Refine to subscribe, unsubscribe to a certain resource updates and publish updates."),(0,n.kt)("p",null,"We have the following built-in integrations:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Ably"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Supabase")," ","\u2192"," ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/refinedev/refine/blob/master/packages/supabase/src/index.ts#L187"},"Source Code")),(0,n.kt)("li",{parentName:"ul"},"Appwrite"),(0,n.kt)("li",{parentName:"ul"},"Hasura")),(0,n.kt)("h2",{id:"hooks"},"Hooks"),(0,n.kt)("p",null,"While most of the features already works out-of-the-box with ",(0,n.kt)("strong",{parentName:"p"},"Live Provider"),", you can also use the following hooks to subscribe, unsubscribe and publish updates for your custom use cases."),(0,n.kt)("h3",{id:"usesubscription"},"useSubscription"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"useSubscription")," hook can be used to subscribe to a certain resource updates. It calls ",(0,n.kt)("strong",{parentName:"p"},"Live Provider"),"'s ",(0,n.kt)("inlineCode",{parentName:"p"},"subscribe")," method with the given parameters."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx"},'import { useSubscription } from "@refinedev/core";\n\nuseSubscription({\n  resource: "products",\n  types: ["created", "updated"],\n  onLiveEvent: (event) => {\n    console.log(event.channel); // products, orders, etc.\n    console.log(event.type); // created, updated, deleted, etc.\n    console.log(event.payload); // { id: 1, name: "Product 1" }, { id: 2, name: "Product 2" }, etc.\n  },\n});\n')),(0,n.kt)("h3",{id:"usepublish"},"usePublish"),(0,n.kt)("p",null,"While generally it's not recommended to publish updates from the frontend, you can use ",(0,n.kt)("inlineCode",{parentName:"p"},"usePublish")," hook to publish updates to a certain resource. It calls ",(0,n.kt)("strong",{parentName:"p"},"Live Provider"),"'s ",(0,n.kt)("inlineCode",{parentName:"p"},"publish")," method with the given parameters."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx"},'import { usePublish } from "@refinedev/core";\n\nconst publish = usePublish();\n\npublish({\n  channel: "products",\n  type: "deleted",\n  payload: { id: 1 },\n  date: new Date(),\n});\n')))}m.isMDXComponent=!0}}]);